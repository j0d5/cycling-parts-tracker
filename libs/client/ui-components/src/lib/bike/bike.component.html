<div class="bike" *ngIf="bike" [formGroup]="bikeForm">
  <div class="bike-header">
    <button
      class="btn btn--sm bike-archived"
      [class.bike-archived--true]="bike.archived"
      (click)="triggerToggleComplete()"
    >
      <fa-stack>
        <fa-icon [icon]="faCircleOutline" stackItemSize="2x"></fa-icon>
        <fa-icon
          [icon]="faCheck"
          stackItemSize="1x"
          *ngIf="bike.archived"
        ></fa-icon>
      </fa-stack>
    </button>

    <editable
      (save)="saveEdit()"
      (cancel)="cancelEdit()"
      openBindingEvent="dblclick"
    >
      <ng-template viewMode
        ><h4 class="bike-manufacturer">
          {{ bike.manufacturer }}
        </h4></ng-template
      >
      <ng-template editMode>
        <input
          class="form-control h4"
          formControlName="manufacturer"
          editableOnEnter
          editableOnEscape
        />
      </ng-template>
    </editable>
  </div>

  <div class="bike-body">
    <editable
      (save)="saveEdit()"
      (cancel)="cancelEdit()"
      openBindingEvent="dblclick"
    >
      <ng-template viewMode>
        <p class="bike-model">{{ bike.model }}</p>
      </ng-template>

      <ng-template editMode>
        <textarea
          editableOnEnter
          editableOnEscape
          class="form-control"
          formControlName="model"
        ></textarea>
      </ng-template>
    </editable>
  </div>

  <div class="bike-footer">
    <div class="bike-actions">
      <button class="btn btn--danger btn--sm" (click)="triggerDelete()">
        <fa-icon [icon]="faTrashCan"></fa-icon>
      </button>
    </div>
  </div>
</div>
